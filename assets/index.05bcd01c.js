var ut=Object.defineProperty;var dt=(o,t,e)=>t in o?ut(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e;var p=(o,t,e)=>(dt(o,typeof t!="symbol"?t+"":t,e),e),X=(o,t,e)=>{if(!t.has(o))throw TypeError("Cannot "+e)};var n=(o,t,e)=>(X(o,t,"read from private field"),e?e.call(o):t.get(o)),a=(o,t,e)=>{if(t.has(o))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(o):t.set(o,e)},u=(o,t,e,i)=>(X(o,t,"write to private field"),i?i.call(o,e):t.set(o,e),e);var f=(o,t,e)=>(X(o,t,"access private method"),e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=e(s);fetch(s.href,r)}})();function w(o,t){return Math.floor(Math.random()*(t-o+1))+o}function v(o,t){return Math.random()*(t-o)+o}function pt(o,t){return typeof o<"u"&&t in o}var P,H,x,W,ot;class mt{constructor(t,e,i,s){a(this,W);p(this,"shape",null);p(this,"position",[]);p(this,"canvas_number",0);p(this,"direction",0);a(this,P,1);a(this,H,.04);a(this,x,-1);this.shape=t,this.position=e,this.canvas_number=i;let r;pt(s,"speed_factor")?r=s.speed_factor:r=1,u(this,P,v(1,4)*r);let c;typeof params<"u"&&params.direction?c=params.direction:c=v(0,359),this.direction=c}frame_move(t){f(this,W,ot).call(this,t),this.shape.rotate(t),u(this,x,t||new Date().getTime())}}P=new WeakMap,H=new WeakMap,x=new WeakMap,W=new WeakSet,ot=function(t){const e=n(this,x)==-1&&typeof t!==void 0?1:n(this,H)*(t-n(this,x));let i,s;const r=n(this,P)*e;i=r*Math.cos(this.direction),s=r*Math.sin(this.direction),this.position[0]+=i,this.position[1]+=s};var D,l,S,_,g,C,O,T,Y,k,rt,q,Z,K,at,et,zt,F,$,L,tt,j,ct,J,ht;class gt{constructor(t,e){a(this,T);a(this,k);a(this,q);a(this,K);a(this,et);a(this,F);a(this,L);a(this,j);a(this,J);p(this,"size",[]);a(this,D,2);a(this,l,[]);a(this,S,0);a(this,_,[]);a(this,g,[]);a(this,C,null);a(this,O,null);u(this,l,t),f(this,T,Y).call(this),u(this,S,t.length),u(this,_,f(this,k,rt).call(this,t)),this.size=f(this,q,Z).call(this),u(this,O,e)}add(t,e){let i=w(0,n(this,S)-1),s;typeof e<"u"&&"position"in e?s=e.position:s=f(this,J,ht).call(this,i,t);let r;typeof e<"u"&&"direction"in e&&(r=e.direction);let c=this.size[0]/2e3;n(this,g).push(new mt(t,s,i,{direction:r,speed_factor:c}))}start_animation(){f(this,F,$).call(this)}outOfCanvas(t){const e=t.position[0]>this.size[0],i=t.position[1]>this.size[1],s=t.position[0]+t.shape.size[0]<0,r=t.position[1]+t.shape.size[1]<0;return e||i||s||r}regenerateOnResize(){f(this,T,Y).call(this),this.size=f(this,q,Z).call(this)}}D=new WeakMap,l=new WeakMap,S=new WeakMap,_=new WeakMap,g=new WeakMap,C=new WeakMap,O=new WeakMap,T=new WeakSet,Y=function(){for(let t=0;t<n(this,l).length;t++)n(this,l)[t].width=n(this,l)[t].clientWidth*n(this,D),n(this,l)[t].height=n(this,l)[t].clientHeight*n(this,D)},k=new WeakSet,rt=function(t){let e=[];for(let i=0;i<n(this,l).length;i++)e.push(n(this,l)[i].getContext("2d"));return e},q=new WeakSet,Z=function(){return[n(this,l)[0].width,n(this,l)[0].height]},K=new WeakSet,at=function(){n(this,g).forEach((t,e)=>{let i=t.canvas_number,s=t.shape,r=n(this,_)[i];const c=s.coordinates.length;let h=[];for(let m=0;m<c;m++)h.push([t.position[0]+s.coordinates[m][0],t.position[1]+s.coordinates[m][1]]);let d=r.createLinearGradient(t.position[0],t.position[1]+s.size[1],t.position[0]+s.size[0],t.position[1]);d.addColorStop(0,s.color),d.addColorStop(1,"#ffffffcc"),r.fillStyle=d,r.beginPath();let y=(h[0][0]+h[1][0])/2,M=(h[0][1]+h[1][1])/2;r.moveTo(y,M);for(let m=1;m<=c;m++){let N=h[m%c],nt=h[(m+1)%c];y=(N[0]+nt[0])/2,M=(N[1]+nt[1])/2,r.quadraticCurveTo(N[0],N[1],y,M)}r.fill()})},et=new WeakSet,zt=function(t){let e=t.canvas_number;n(this,_)[e].clearRect(t.position[0]-t.shape.size[0]/2,t.position[1]-t.shape.size[1]/2,t.shape.size[0]+t.shape.size[0],t.shape.size[1]+t.shape.size[0])},F=new WeakSet,$=function(){window.requestAnimationFrame?u(this,C,window.requestAnimationFrame(f(this,L,tt).bind(this))):u(this,C,setTimeout(f(this,L,tt).bind(this),66,new Date().getTime()))},L=new WeakSet,tt=function(t){n(this,_).forEach((i,s)=>{i.clearRect(0,0,n(this,l)[s].width,n(this,l)[s].height)});let e=0;u(this,g,n(this,g).map(i=>(i.frame_move(t),this.outOfCanvas(i)&&(i=null,e+=1),i))),u(this,g,n(this,g).filter(i=>i));for(let i=0;i<e;i++)f(this,j,ct).call(this);f(this,K,at).call(this),f(this,F,$).call(this)},j=new WeakSet,ct=function(){let t=n(this,O).generate({example_canvas:n(this,l)[0]});const e=w(0,3);let i,s;e==0?(s=0-t.size[1]+10,i=v(0,this.size[0])-t.size[0]):e==1?(i=this.size[0]-1,s=v(0,this.size[1])-t.size[1]):e==2?(s=this.size[1]-1,i=v(0,this.size[0])-t.size[0]):e==3&&(i=0-t.size[0]+10,s=v(0,this.size[1])-t.size[1]);let r=[i,s];const c=(i-this.size[0]/2)/(this.size[0]/2);let h=w(0,90*(2-Math.abs(c)));h+=c>=0?90:90*(1-c),h-=90*e,this.add(t,{position:r,direction:h})},J=new WeakSet,ht=function(t,e){let i=n(this,l)[t];return[Math.random()*(i.width-e.size[0]),Math.random()*(i.height-e.size[1])]};var Q,b,R,E,U,lt,V,ft;const st=class{constructor(t,e,i){a(this,U);a(this,V);p(this,"size",[0,0]);p(this,"coordinates",[]);p(this,"polar_coordinates",[]);p(this,"color","#fff");a(this,Q,.05);a(this,b,-1);a(this,R,void 0);a(this,E,0);this.size=t,this.coordinates=f(this,U,lt).call(this,e),this.polar_coordinates=f(this,V,ft).call(this,e),this.color=i,u(this,R,[this.size[0]/2,this.size[1]/2]),u(this,E,v(-3,3))}rotate(t){const e=n(this,b)==-1&&typeof t!==void 0?1:n(this,Q)*(t-n(this,b));this.polar_coordinates.forEach((i,s)=>{i[1]+=.005*n(this,E)*e,this.polar_coordinates[s]=i,this.coordinates[s]=st.fromPolarToDecart(i,n(this,R))}),u(this,b,t||new Date().getTime())}static fromPolarToDecart(t,e=[0,0]){return[t[0]*Math.cos(t[1])+e[0],t[0]*Math.sin(t[1])+e[1]]}static fromDecartToPolar(t,e=[0,0]){const i=t[0],s=t[1];return[Math.sqrt(Math.pow(i-e[0],2)+Math.pow(s-e[1],2)),i>=e[0]?Math.atan((s-e[1])/(i-e[0])):Math.atan((s-e[1])/(i-e[0]))+Math.PI]}};let G=st;Q=new WeakMap,b=new WeakMap,R=new WeakMap,E=new WeakMap,U=new WeakSet,lt=function(t){return t.map(e=>e.coordinates)},V=new WeakSet,ft=function(t){return t.map(e=>e.polar_coordinates)};var I,z,A,it;class vt{constructor(){a(this,I,{min:3,max:10});a(this,z,{min:50,max:150});a(this,A,["#e63ead","#ff6279","#45b6b2","#efc815","#571287","#fb0066","#fb0066","#0231fb","#0231fb"]);a(this,it,null)}generate(t){if("example_canvas"in t){const h=t.example_canvas.width>t.example_canvas.height?t.example_canvas.height:t.example_canvas.width;u(this,z,{min:h/12,max:h/4})}const e=w(n(this,I).min,n(this,I).max),i=this.generateSizeForDimension(n(this,z).min,n(this,z).max),s=this.generateSizeForDimension(n(this,z).min,n(this,z).max),r=this.generatePointsDistribution(e,i,s),c=this.generateColor();return new G([i,s],r,c)}generateSizeForDimension(t,e){return w(t,e)}generatePointsDistribution(t,e,i){const s=[e/2,i/2];let r=[];for(let h=0;h<t;h++){let d={},y=this.generateSizeForDimension((e+i)/8,(e+i)/4),M=v(2*Math.PI/t*h,2*Math.PI/t*(h+1));d.polar_coordinates=[y,M],d.coordinates=G.fromPolarToDecart(d.polar_coordinates,s),r.push(d)}const c=(h,d)=>h.polar_coordinates[1]>d.polar_coordinates[1]?1:h.polar_coordinates[1]<d.polar_coordinates[1]?-1:0;return r.sort(c),r}generateColor(){return n(this,A)[w(0,n(this,A).length-1)]}}I=new WeakMap,z=new WeakMap,A=new WeakMap,it=new WeakMap;let B;function _t(){let o=[document.querySelector("canvas#backend"),document.querySelector("canvas#frontend")],t=new vt;B=new gt(o,t);const e=24;for(let i=0;i<e;i++){let s=t.generate({example_canvas:o[0]});B.add(s)}B.start_animation()}_t();window.addEventListener("resize",function(o){B.regenerateOnResize()},!0);
