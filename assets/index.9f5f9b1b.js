var ct=Object.defineProperty;var lt=(o,t,e)=>t in o?ct(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e;var p=(o,t,e)=>(lt(o,typeof t!="symbol"?t+"":t,e),e),V=(o,t,e)=>{if(!t.has(o))throw TypeError("Cannot "+e)};var n=(o,t,e)=>(V(o,t,"read from private field"),e?e.call(o):t.get(o)),a=(o,t,e)=>{if(t.has(o))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(o):t.set(o,e)},d=(o,t,e,s)=>(V(o,t,"write to private field"),s?s.call(o,e):t.set(o,e),e);var f=(o,t,e)=>(V(o,t,"access private method"),e);import"./style.c0ed6924.js";function z(o,t){return Math.floor(Math.random()*(t-o+1))+o}function g(o,t){return Math.random()*(t-o)+o}function ft(o,t){return typeof o<"u"&&t in o}var D,L,w,W,it;class dt{constructor(t,e,s,i){a(this,W);p(this,"shape");p(this,"position",[0,0]);p(this,"canvas_number",0);p(this,"direction",0);a(this,D,1);a(this,L,.04);a(this,w,-1);this.shape=t,this.position=e,this.canvas_number=s;let r;ft(i,"speed_factor")?r=i.speed_factor:r=1,d(this,D,g(1,4)*r);let c;typeof i<"u"&&i.direction?c=i.direction:c=g(0,359),this.direction=c}frame_move(t){f(this,W,it).call(this,t),this.shape.rotate(t),d(this,w,t||new Date().getTime())}}D=new WeakMap,L=new WeakMap,w=new WeakMap,W=new WeakSet,it=function(t){const e=n(this,w)==-1&&typeof t!==void 0?1:n(this,L)*(t-n(this,w));let s,i;const r=n(this,D)*e;s=r*Math.cos(this.direction),i=r*Math.sin(this.direction),this.position[0]+=s,this.position[1]+=i};var C,l,P,x,v,S,T,X,k,st,q,Y,N,nt,F,Z,O,$,j,ot,J,rt;class ut{constructor(t,e){a(this,T);a(this,k);a(this,q);a(this,N);a(this,F);a(this,O);a(this,j);a(this,J);p(this,"size");a(this,C,2);a(this,l,void 0);a(this,P,0);a(this,x,void 0);a(this,v,[]);a(this,S,void 0);d(this,l,t),f(this,T,X).call(this),d(this,P,t.length),d(this,x,f(this,k,st).call(this)),this.size=f(this,q,Y).call(this),d(this,S,e)}add(t,e){let s=z(0,n(this,P)-1),i;typeof e<"u"&&"position"in e?i=e.position:i=f(this,J,rt).call(this,s,t);let r;typeof e<"u"&&"direction"in e&&(r=e.direction);let c=this.size[0]/2e3;n(this,v).push(new dt(t,i,s,{direction:r,speed_factor:c}))}start_animation(){f(this,F,Z).call(this)}outOfCanvas(t){const e=t.position[0]>this.size[0],s=t.position[1]>this.size[1],i=t.position[0]+t.shape.size[0]<0,r=t.position[1]+t.shape.size[1]<0;return e||s||i||r}regenerateOnResize(){f(this,T,X).call(this),this.size=f(this,q,Y).call(this)}}C=new WeakMap,l=new WeakMap,P=new WeakMap,x=new WeakMap,v=new WeakMap,S=new WeakMap,T=new WeakSet,X=function(){for(let t=0;t<n(this,l).length;t++)n(this,l)[t].width=n(this,l)[t].clientWidth*n(this,C),n(this,l)[t].height=n(this,l)[t].clientHeight*n(this,C)},k=new WeakSet,st=function(){let t=[];for(let e=0;e<n(this,l).length;e++)t.push(n(this,l)[e].getContext("2d"));return t},q=new WeakSet,Y=function(){return[n(this,l)[0].width,n(this,l)[0].height]},N=new WeakSet,nt=function(){n(this,v).forEach((t,e)=>{let s=t.canvas_number,i=t.shape,r=n(this,x)[s];const c=i.coordinates.length;if(r==null)return;let h=[];for(let _=0;_<c;_++)h.push([t.position[0]+i.coordinates[_][0],t.position[1]+i.coordinates[_][1]]);let u=r.createLinearGradient(t.position[0],t.position[1]+i.size[1],t.position[0]+i.size[0],t.position[1]);u.addColorStop(0,i.color),u.addColorStop(1,"#ffffffcc"),r.fillStyle=u,r.beginPath();let b=(h[0][0]+h[1][0])/2,y=(h[0][1]+h[1][1])/2;r.moveTo(b,y);for(let _=1;_<=c;_++){let B=h[_%c],et=h[(_+1)%c];b=(B[0]+et[0])/2,y=(B[1]+et[1])/2,r.quadraticCurveTo(B[0],B[1],b,y)}r.fill()})},F=new WeakSet,Z=function(){window.requestAnimationFrame?window.requestAnimationFrame(f(this,O,$).bind(this)):setTimeout(f(this,O,$).bind(this),66,new Date().getTime())},O=new WeakSet,$=function(t){n(this,x).forEach((i,r)=>{i==null||i.clearRect(0,0,n(this,l)[r].width,n(this,l)[r].height)});let e=0,s=n(this,v).map(i=>{i.frame_move(t);let r=i;return this.outOfCanvas(i)&&(r=null,e+=1),r});d(this,v,s.filter(i=>i!==null));for(let i=0;i<e;i++)f(this,j,ot).call(this);f(this,N,nt).call(this),f(this,F,Z).call(this)},j=new WeakSet,ot=function(){let t=n(this,S).generate({example_canvas:n(this,l)[0]});const e=z(0,3);let s,i;e==0?(i=0-t.size[1]+10,s=g(0,this.size[0])-t.size[0]):e==1?(s=this.size[0]-1,i=g(0,this.size[1])-t.size[1]):e==2?(i=this.size[1]-1,s=g(0,this.size[0])-t.size[0]):(s=0-t.size[0]+10,i=g(0,this.size[1])-t.size[1]);let r=[s,i];const c=(s-this.size[0]/2)/(this.size[0]/2);let h=z(0,90*(2-Math.abs(c)));h+=c>=0?90:90*(1-c),h-=90*e,this.add(t,{position:r,direction:h})},J=new WeakSet,rt=function(t,e){let s=n(this,l)[t];return[Math.random()*(s.width-e.size[0]),Math.random()*(s.height-e.size[1])]};var K,M,R,E,Q,at,U,ht;const tt=class{constructor(t,e,s){a(this,Q);a(this,U);p(this,"size",[0,0]);p(this,"coordinates");p(this,"polar_coordinates");p(this,"color","#fff");a(this,K,.05);a(this,M,-1);a(this,R,void 0);a(this,E,0);this.size=t,this.coordinates=f(this,Q,at).call(this,e),this.polar_coordinates=f(this,U,ht).call(this,e),this.color=s,d(this,R,[this.size[0]/2,this.size[1]/2]),d(this,E,g(-3,3))}rotate(t){const e=n(this,M)==-1&&typeof t!==void 0?1:n(this,K)*(t-n(this,M));this.polar_coordinates.forEach((s,i)=>{s[1]+=.005*n(this,E)*e,this.polar_coordinates[i]=s,this.coordinates[i]=tt.fromPolarToDecart(s,n(this,R))}),d(this,M,t||new Date().getTime())}static fromPolarToDecart(t,e=[0,0]){return[t[0]*Math.cos(t[1])+e[0],t[0]*Math.sin(t[1])+e[1]]}static fromDecartToPolar(t,e=[0,0]){const s=t[0],i=t[1];return[Math.sqrt(Math.pow(s-e[0],2)+Math.pow(i-e[1],2)),s>=e[0]?Math.atan((i-e[1])/(s-e[0])):Math.atan((i-e[1])/(s-e[0]))+Math.PI]}};let H=tt;K=new WeakMap,M=new WeakMap,R=new WeakMap,E=new WeakMap,Q=new WeakSet,at=function(t){return t.map(e=>e.coordinates)},U=new WeakSet,ht=function(t){return t.map(e=>e.polar_coordinates)};var I,m,A;class pt{constructor(){a(this,I,{min:3,max:10});a(this,m,{min:50,max:150});a(this,A,["#e63ead","#ff6279","#45b6b2","#efc815","#571287","#fb0066","#fb0066","#0231fb","#0231fb"])}generate(t){if("example_canvas"in t){const h=t.example_canvas.width>t.example_canvas.height?t.example_canvas.height:t.example_canvas.width;d(this,m,{min:h/12,max:h/4})}const e=z(n(this,I).min,n(this,I).max),s=this.generateSizeForDimension(n(this,m).min,n(this,m).max),i=this.generateSizeForDimension(n(this,m).min,n(this,m).max),r=this.generatePointsDistribution(e,s,i),c=this.generateColor();return new H([s,i],r,c)}generateSizeForDimension(t,e){return z(t,e)}generatePointsDistribution(t,e,s){const i=[e/2,s/2];let r=[];for(let h=0;h<t;h++){let u={polar_coordinates:[],coordinates:[]},b=this.generateSizeForDimension((e+s)/8,(e+s)/4),y=g(2*Math.PI/t*h,2*Math.PI/t*(h+1));u.polar_coordinates=[b,y],u.coordinates=H.fromPolarToDecart(u.polar_coordinates,i),r.push(u)}const c=(h,u)=>h.polar_coordinates[1]>u.polar_coordinates[1]?1:h.polar_coordinates[1]<u.polar_coordinates[1]?-1:0;return r.sort(c),r}generateColor(){return n(this,A)[z(0,n(this,A).length-1)]}}I=new WeakMap,m=new WeakMap,A=new WeakMap;let G;function _t(){let o=[document.querySelector("canvas#backend"),document.querySelector("canvas#frontend")].filter(s=>s!=null),t=new pt;G=new ut(o,t);const e=24;for(let s=0;s<e;s++){let i=t.generate({example_canvas:o[0]});G.add(i)}G.start_animation()}_t();window.addEventListener("resize",function(o){G.regenerateOnResize()},!0);
