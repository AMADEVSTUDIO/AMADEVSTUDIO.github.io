var ht=Object.defineProperty;var lt=(r,t,e)=>t in r?ht(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var p=(r,t,e)=>(lt(r,typeof t!="symbol"?t+"":t,e),e),V=(r,t,e)=>{if(!t.has(r))throw TypeError("Cannot "+e)};var o=(r,t,e)=>(V(r,t,"read from private field"),e?e.call(r):t.get(r)),a=(r,t,e)=>{if(t.has(r))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(r):t.set(r,e)},d=(r,t,e,s)=>(V(r,t,"write to private field"),s?s.call(r,e):t.set(r,e),e);var f=(r,t,e)=>(V(r,t,"access private method"),e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function e(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerpolicy&&(n.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?n.credentials="include":i.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(i){if(i.ep)return;i.ep=!0;const n=e(i);fetch(i.href,n)}})();function z(r,t){return Math.floor(Math.random()*(t-r+1))+r}function g(r,t){return Math.random()*(t-r)+r}function ft(r,t){return typeof r<"u"&&t in r}var P,G,w,H,it;class dt{constructor(t,e,s,i){a(this,H);p(this,"shape");p(this,"position",[0,0]);p(this,"canvas_number",0);p(this,"direction",0);a(this,P,1);a(this,G,.04);a(this,w,-1);this.shape=t,this.position=e,this.canvas_number=s;let n;ft(i,"speed_factor")?n=i.speed_factor:n=1,d(this,P,g(1,4)*n);let c;typeof i<"u"&&i.direction?c=i.direction:c=g(0,359),this.direction=c}frame_move(t){f(this,H,it).call(this,t),this.shape.rotate(t),d(this,w,t||new Date().getTime())}}P=new WeakMap,G=new WeakMap,w=new WeakMap,H=new WeakSet,it=function(t){const e=o(this,w)==-1&&typeof t!==void 0?1:o(this,G)*(t-o(this,w));let s,i;const n=o(this,P)*e;s=n*Math.cos(this.direction),i=n*Math.sin(this.direction),this.position[0]+=s,this.position[1]+=i};var D,l,S,y,v,C,O,X,W,st,T,Y,k,nt,q,Z,F,$,K,ot,j,rt;class ut{constructor(t,e){a(this,O);a(this,W);a(this,T);a(this,k);a(this,q);a(this,F);a(this,K);a(this,j);p(this,"size");a(this,D,2);a(this,l,void 0);a(this,S,0);a(this,y,void 0);a(this,v,[]);a(this,C,void 0);d(this,l,t),f(this,O,X).call(this),d(this,S,t.length),d(this,y,f(this,W,st).call(this)),this.size=f(this,T,Y).call(this),d(this,C,e)}add(t,e){let s=z(0,o(this,S)-1),i;typeof e<"u"&&"position"in e?i=e.position:i=f(this,j,rt).call(this,s,t);let n;typeof e<"u"&&"direction"in e&&(n=e.direction);let c=this.size[0]/2e3;o(this,v).push(new dt(t,i,s,{direction:n,speed_factor:c}))}start_animation(){f(this,q,Z).call(this)}outOfCanvas(t){const e=t.position[0]>this.size[0],s=t.position[1]>this.size[1],i=t.position[0]+t.shape.size[0]<0,n=t.position[1]+t.shape.size[1]<0;return e||s||i||n}regenerateOnResize(){f(this,O,X).call(this),this.size=f(this,T,Y).call(this)}}D=new WeakMap,l=new WeakMap,S=new WeakMap,y=new WeakMap,v=new WeakMap,C=new WeakMap,O=new WeakSet,X=function(){for(let t=0;t<o(this,l).length;t++)o(this,l)[t].width=o(this,l)[t].clientWidth*o(this,D),o(this,l)[t].height=o(this,l)[t].clientHeight*o(this,D)},W=new WeakSet,st=function(){let t=[];for(let e=0;e<o(this,l).length;e++)t.push(o(this,l)[e].getContext("2d"));return t},T=new WeakSet,Y=function(){return[o(this,l)[0].width,o(this,l)[0].height]},k=new WeakSet,nt=function(){o(this,v).forEach((t,e)=>{let s=t.canvas_number,i=t.shape,n=o(this,y)[s];const c=i.coordinates.length;if(n==null)return;let h=[];for(let m=0;m<c;m++)h.push([t.position[0]+i.coordinates[m][0],t.position[1]+i.coordinates[m][1]]);let u=n.createLinearGradient(t.position[0],t.position[1]+i.size[1],t.position[0]+i.size[0],t.position[1]);u.addColorStop(0,i.color),u.addColorStop(1,"#ffffffcc"),n.fillStyle=u,n.beginPath();let M=(h[0][0]+h[1][0])/2,x=(h[0][1]+h[1][1])/2;n.moveTo(M,x);for(let m=1;m<=c;m++){let A=h[m%c],et=h[(m+1)%c];M=(A[0]+et[0])/2,x=(A[1]+et[1])/2,n.quadraticCurveTo(A[0],A[1],M,x)}n.fill()})},q=new WeakSet,Z=function(){window.requestAnimationFrame?window.requestAnimationFrame(f(this,F,$).bind(this)):setTimeout(f(this,F,$).bind(this),66,new Date().getTime())},F=new WeakSet,$=function(t){o(this,y).forEach((i,n)=>{i==null||i.clearRect(0,0,o(this,l)[n].width,o(this,l)[n].height)});let e=0,s=o(this,v).map(i=>{i.frame_move(t);let n=i;return this.outOfCanvas(i)&&(n=null,e+=1),n});d(this,v,s.filter(i=>i!==null));for(let i=0;i<e;i++)f(this,K,ot).call(this);f(this,k,nt).call(this),f(this,q,Z).call(this)},K=new WeakSet,ot=function(){let t=o(this,C).generate({example_canvas:o(this,l)[0]});const e=z(0,3);let s,i;e==0?(i=0-t.size[1]+10,s=g(0,this.size[0])-t.size[0]):e==1?(s=this.size[0]-1,i=g(0,this.size[1])-t.size[1]):e==2?(i=this.size[1]-1,s=g(0,this.size[0])-t.size[0]):(s=0-t.size[0]+10,i=g(0,this.size[1])-t.size[1]);let n=[s,i];const c=(s-this.size[0]/2)/(this.size[0]/2);let h=z(0,90*(2-Math.abs(c)));h+=c>=0?90:90*(1-c),h-=90*e,this.add(t,{position:n,direction:h})},j=new WeakSet,rt=function(t,e){let s=o(this,l)[t];return[Math.random()*(s.width-e.size[0]),Math.random()*(s.height-e.size[1])]};var J,b,L,E,Q,at,U,ct;const tt=class{constructor(t,e,s){a(this,Q);a(this,U);p(this,"size",[0,0]);p(this,"coordinates");p(this,"polar_coordinates");p(this,"color","#fff");a(this,J,.05);a(this,b,-1);a(this,L,void 0);a(this,E,0);this.size=t,this.coordinates=f(this,Q,at).call(this,e),this.polar_coordinates=f(this,U,ct).call(this,e),this.color=s,d(this,L,[this.size[0]/2,this.size[1]/2]),d(this,E,g(-3,3))}rotate(t){const e=o(this,b)==-1&&typeof t!==void 0?1:o(this,J)*(t-o(this,b));this.polar_coordinates.forEach((s,i)=>{s[1]+=.005*o(this,E)*e,this.polar_coordinates[i]=s,this.coordinates[i]=tt.fromPolarToDecart(s,o(this,L))}),d(this,b,t||new Date().getTime())}static fromPolarToDecart(t,e=[0,0]){return[t[0]*Math.cos(t[1])+e[0],t[0]*Math.sin(t[1])+e[1]]}static fromDecartToPolar(t,e=[0,0]){const s=t[0],i=t[1];return[Math.sqrt(Math.pow(s-e[0],2)+Math.pow(i-e[1],2)),s>=e[0]?Math.atan((i-e[1])/(s-e[0])):Math.atan((i-e[1])/(s-e[0]))+Math.PI]}};let B=tt;J=new WeakMap,b=new WeakMap,L=new WeakMap,E=new WeakMap,Q=new WeakSet,at=function(t){return t.map(e=>e.coordinates)},U=new WeakSet,ct=function(t){return t.map(e=>e.polar_coordinates)};var I,_,R;class pt{constructor(){a(this,I,{min:3,max:10});a(this,_,{min:50,max:150});a(this,R,["#e63ead","#ff6279","#45b6b2","#efc815","#571287","#fb0066","#fb0066","#0231fb","#0231fb"])}generate(t){if("example_canvas"in t){const h=t.example_canvas.width>t.example_canvas.height?t.example_canvas.height:t.example_canvas.width;d(this,_,{min:h/12,max:h/4})}const e=z(o(this,I).min,o(this,I).max),s=this.generateSizeForDimension(o(this,_).min,o(this,_).max),i=this.generateSizeForDimension(o(this,_).min,o(this,_).max),n=this.generatePointsDistribution(e,s,i),c=this.generateColor();return new B([s,i],n,c)}generateSizeForDimension(t,e){return z(t,e)}generatePointsDistribution(t,e,s){const i=[e/2,s/2];let n=[];for(let h=0;h<t;h++){let u={polar_coordinates:[],coordinates:[]},M=this.generateSizeForDimension((e+s)/8,(e+s)/4),x=g(2*Math.PI/t*h,2*Math.PI/t*(h+1));u.polar_coordinates=[M,x],u.coordinates=B.fromPolarToDecart(u.polar_coordinates,i),n.push(u)}const c=(h,u)=>h.polar_coordinates[1]>u.polar_coordinates[1]?1:h.polar_coordinates[1]<u.polar_coordinates[1]?-1:0;return n.sort(c),n}generateColor(){return o(this,R)[z(0,o(this,R).length-1)]}}I=new WeakMap,_=new WeakMap,R=new WeakMap;let N;function mt(){let r=[document.querySelector("canvas#backend"),document.querySelector("canvas#frontend")].filter(s=>s!=null),t=new pt;N=new ut(r,t);const e=24;for(let s=0;s<e;s++){let i=t.generate({example_canvas:r[0]});N.add(i)}N.start_animation()}mt();window.addEventListener("resize",function(r){N.regenerateOnResize()},!0);
